import 'package:latlong2/latlong.dart';
import 'dart:io';

void main() {
  final nodes = {
    'wp_Red_Bldg': const LatLng(15.133481,120.591565), 
  'wp_1': const LatLng(15.133432,120.591613),
  'wp_2': const LatLng(15.133354,120.591530),
  'wp_3': const LatLng(15.133400,120.591471),
  'wp_4': const LatLng(15.133346,120.591425),
  'wp_SMH_Hall': const LatLng(15.133413,120.591356),
  'wp_5': const LatLng(15.133359,120.591289),
  'wp_6': const LatLng(15.133222,120.591441),
  'wp_7': const LatLng(15.132883,120.591120),
  'wp_8': const LatLng(15.133222,120.590760),
  'wp_9': const LatLng(15.133245,120.590731),
  'wp_10': const LatLng(15.133274,120.590731),
  'wp_11': const LatLng(15.133315,120.590704),
  'wp_12': const LatLng(15.133343,120.590744),
  'wp_SFJ': const LatLng(15.133476,120.590910),
  'wp_13': const LatLng(15.133592,120.591039),
  'wp_14': const LatLng(15.133861,120.590811),
  'wp_Entrance': const LatLng(15.134110,120.591074),
  'wp_15': const LatLng(15.133758,120.590733),
  'wp_16': const LatLng(15.133711,120.590562),
  'wp_17': const LatLng(15.133470,120.590596),
  'wp_18': const LatLng(15.133460,120.590645),
  'wp_19': const LatLng(15.133429,120.590669),
  'wp_20': const LatLng(15.133395,120.590661),
  'wp_21': const LatLng(15.133359,120.590631),
  'wp_22': const LatLng(15.133349,120.590583),
  'wp_23': const LatLng(15.133380,120.590548),
  'wp_24': const LatLng(15.133416,120.590537),
  'wp_25': const LatLng(15.133444,120.590546),
  'wp_26': const LatLng(15.133242,120.590457),
  'wp_27': const LatLng(15.133134,120.590352),
  'wp_28': const LatLng(15.133659,120.590377),
  'wp_29': const LatLng(15.133556,120.590315),
  'wp_Main_Bldg': const LatLng(15.133504,120.590237),
  'wp_30': const LatLng(15.133400,120.590098),
  'wp_31': const LatLng(15.133053,120.590438),
  'wp_32': const LatLng(15.133154,120.590551),
  'wp_33': const LatLng(15.133157,120.590605),
  'wp_34': const LatLng(15.133162,120.590661),
  'wp_35': const LatLng(15.133178,120.590709),
  'wp_36': const LatLng(15.132867,120.591039),
  'wp_37': const LatLng(15.132833,120.591069),
  'wp_38': const LatLng(15.132673,120.590833),
  'wp_STL': const LatLng(15.132725,120.590782),
  'wp_39': const LatLng(15.132950,120.590529),
  'wp_PGN': const LatLng(15.132896,120.590462),
  'wp_40': const LatLng(15.132186,120.590395),
  'wp_41': const LatLng(15.132158,120.590366),
  'wp_42': const LatLng(15.132041,120.590460),
  'wp_GGN': const LatLng(15.131868,120.590666),
  'wp_SMH': const LatLng(15.132375,120.590819),
  'wp_SRH': const LatLng(15.132510,120.590943),
  'wp_SGH': const LatLng(15.132606,120.591031),
  'wp_Yellow_Canteen': const LatLng(15.132709,120.591195),
  'wp_Warehouse': const LatLng(15.132813,120.591278),
  'wp_43': const LatLng(15.132554,120.590041),
  'wp_44': const LatLng(15.132624,120.589953),
  'wp_45': const LatLng(15.132841,120.590186),
  'wp_46': const LatLng(15.132919,120.590132),
  'wp_47': const LatLng(15.132751,120.589929),
  'wp_MGN': const LatLng(15.132849,120.589848),
  'wp_48': const LatLng(15.132704,120.589875),
  'wp_49': const LatLng(15.132629,120.589784),
  'wp_50': const LatLng(15.132587,120.589824),
  'wp_Chapel': const LatLng(15.132406,120.589615),
  'wp_51': const LatLng(15.132468,120.589942),
  'wp_52': const LatLng(15.132380,120.590001),
  'wp_53': const LatLng(15.132230,120.590041),
  'wp_54': const LatLng(15.132083,120.590006),
  'wp_55': const LatLng(15.131995,120.589931),
  'wp_APS': const LatLng(15.131932,120.589993),
  'wp_56': const LatLng(15.131875,120.589765),
  'wp_57': const LatLng(15.131798,120.589609),
  'wp_58': const LatLng(15.131862,120.589465),
  'wp_59': const LatLng(15.131953,120.589304),
  'wp_60': const LatLng(15.132039,120.589186),
  'wp_Foundation': const LatLng(15.132093,120.589263),
  'wp_61': const LatLng(15.131938,120.589068),
  'wp_62': const LatLng(15.131883,120.589111),
  'wp_Covered_Court': const LatLng(15.131862,120.589127),
  'wp_63': const LatLng(15.131919,120.589137),
  'wp_64': const LatLng(15.131464,120.589591),
  'wp_SH': const LatLng(15.131427,120.589545),
  'wp_65': const LatLng(15.131881,120.590060),
  'wp_66': const LatLng(15.132018,120.589006),
  'wp_IH_Gym': const LatLng(15.131961,120.588944),
  'wp_Annex': const LatLng(15.132334,120.588711),
  'wp_SJH': const LatLng(15.132730,120.589170),
  'wp_67': const LatLng(15.132261,120.589033),
  'wp_68': const LatLng(15.132543,120.589427),
  'wp_69': const LatLng(15.132624,120.589432),
  'wp_70': const LatLng(15.132699,120.589443),
  'wp_71': const LatLng(15.132753,120.589532),
  'wp_72': const LatLng(15.132769,120.589609),
  'wp_73': const LatLng(15.132751,120.589674),
  'wp_74': const LatLng(15.132688,120.589711),
  'wp_75': const LatLng(15.133004,120.589494),
  'wp_76': const LatLng(15.133069,120.589601),
  };

  final edges = [
  ['wp_Red_Bldg', 'wp_1'],
  ['wp_1', 'wp_2'],
  ['wp_2', 'wp_3'],
  ['wp_3', 'wp_4'],
  ['wp_4', 'wp_SMH_Hall'],
  ['wp_SMH_Hall', 'wp_5'],
  ['wp_5', 'wp_6'],
  ['wp_6', 'wp_7'],
  ['wp_7', 'wp_8'],
  ['wp_8', 'wp_9'],
  ['wp_9', 'wp_10'],
  ['wp_10', 'wp_11'],
  ['wp_11', 'wp_12'],
  ['wp_12', 'wp_SFJ'],
  ['wp_SFJ', 'wp_13'],
  ['wp_13', 'wp_5'],
  ['wp_13', 'wp_14'],
  ['wp_14', 'wp_Entrance'],
  ['wp_14', 'wp_15'],
  ['wp_15', 'wp_16'],
  ['wp_16', 'wp_17'],
  ['wp_17', 'wp_18'],
  ['wp_18', 'wp_19'],
  ['wp_19', 'wp_20'],
  ['wp_20', 'wp_12'],
  ['wp_20', 'wp_21'],
  ['wp_21', 'wp_22'],
  ['wp_22', 'wp_23'],
  ['wp_23', 'wp_24'],
  ['wp_24', 'wp_25'],
  ['wp_24', 'wp_26'],
  ['wp_25', 'wp_17'],
  ['wp_26', 'wp_27'],
  ['wp_27', 'wp_30'],
  ['wp_28', 'wp_16'],
  ['wp_29', 'wp_28'],
  ['wp_Main_Bldg', 'wp_29'],
  ['wp_30', 'wp_Main_Bldg'],
  ['wp_31', 'wp_27'],
  ['wp_31', 'wp_32'],
  ['wp_32', 'wp_26'],
  ['wp_32', 'wp_33'],
  ['wp_33', 'wp_34'],
  ['wp_34', 'wp_35'],
  ['wp_35', 'wp_8'],
  ['wp_35', 'wp_36'],
  ['wp_36', 'wp_37'],
  ['wp_36', 'wp_38'],
  ['wp_37', 'wp_7'],
  ['wp_38', 'wp_STL'],
  ['wp_39', 'wp_STL'],
  ['wp_39', 'wp_31'],
  ['wp_39', 'wp_PGN'],
  ['wp_40', 'wp_38'],
  ['wp_40', 'wp_41'],
  ['wp_41', 'wp_42'],
  ['wp_42', 'wp_GGN'],
  ['wp_42', 'wp_SMH'],
  ['wp_SMH', 'wp_SRH'],
  ['wp_SRH', 'wp_SGH'],
  ['wp_SRH', 'wp_38'],
  ['wp_SGH', 'wp_Yellow_Canteen'],
  ['wp_Yellow_Canteen', 'wp_Warehouse'],
  ['wp_Yellow_Canteen', 'wp_37'],
  ['wp_43', 'wp_40'],
  ['wp_43', 'wp_PGN'],
  ['wp_43', 'wp_44'],
  ['wp_44', 'wp_45'],
  ['wp_45', 'wp_31'],
  ['wp_45', 'wp_46'],
  ['wp_46', 'wp_27'],
  ['wp_46', 'wp_47'],
  ['wp_47', 'wp_MGN'],
  ['wp_47', 'wp_48'],
  ['wp_48', 'wp_49'],
  ['wp_49', 'wp_50'],
  ['wp_50', 'wp_Chapel'],
  ['wp_50', 'wp_51'],
  ['wp_51', 'wp_52'],
  ['wp_52', 'wp_53'],
  ['wp_53', 'wp_54'],
  ['wp_54', 'wp_55'],
  ['wp_55', 'wp_APS'],
  ['wp_55', 'wp_56'],
  ['wp_56', 'wp_57'],
  ['wp_57', 'wp_58'],
  ['wp_58', 'wp_59'],
  ['wp_59', 'wp_60'],
  ['wp_60', 'wp_Foundation'],
  ['wp_60', 'wp_61'],
  ['wp_61', 'wp_62'],
  ['wp_62', 'wp_Covered_Court'],
  ['wp_62', 'wp_63'],
  ['wp_63', 'wp_64'],
  ['wp_64', 'wp_SH'],
  ['wp_64', 'wp_65'],
  ['wp_65', 'wp_APS'],
  ['wp_65', 'wp_41'],
  ['wp_66', 'wp_61'],
  ['wp_66', 'wp_IH_Gym'],
  ['wp_66', 'wp_Annex'],
  ['wp_Annex', 'wp_SJH'],
  ['wp_67', 'wp_60'],
  ['wp_67', 'wp_68'],
  ['wp_68', 'wp_69'],
  ['wp_69', 'wp_70'],
  ['wp_70', 'wp_71'],
  ['wp_71', 'wp_72'],
  ['wp_72', 'wp_73'],
  ['wp_73', 'wp_74'],
  ['wp_74', 'wp_49'],
  ['wp_75', 'wp_73'],
  ['wp_75', 'wp_SJH'],
  ['wp_75', 'wp_76'],
  ['wp_76', 'wp_MGN'],
  ];

  final dist = Distance();
  final file = File('edgesUpdated.csv');
  file.writeAsStringSync('from_waypoint,to_waypoint,distance_meters\n');

  for (var pair in edges) {
    final a = pair[0];
    final b = pair[1];
    final d = dist.as(LengthUnit.Meter, nodes[a]!, nodes[b]!);
    file.writeAsStringSync('$a,$b,${d.toStringAsFixed(2)}\n', mode: FileMode.append);
    file.writeAsStringSync('$b,$a,${d.toStringAsFixed(2)}\n', mode: FileMode.append); // For bidirectional
  }
}